function crpCalendarFormInit(){if($("crpcalendar_day_event").checked==true){$("end_date_block").addClassName("z-hide");}Event.observe("crpcalendar_day_event","click",function(){hideDateFilter("crpcalendar_day_event","end_date_block");},false);datePickerController.createDatePicker({formElements:{"start_datefield":"y","start_datefield-dd":"d","start_datefield-mm":"m"},highlightDays:[0,0,0,0,0,1,1],noFadeEffect:true,finalOpacity:100,showWeeks:true,noDrag:true});datePickerController.createDatePicker({formElements:{"end_datefield":"y","end_datefield-dd":"d","end_datefield-mm":"m"},highlightDays:[0,0,0,0,0,1,1],noFadeEffect:true,finalOpacity:100,showWeeks:true,noDrag:true});};function crpCalendarPurgeInit(){datePickerController.createDatePicker({formElements:{"end_datefield":"y","end_datefield-dd":"d","end_datefield-mm":"m"},highlightDays:[0,0,0,0,0,1,1],noFadeEffect:true,finalOpacity:100,showWeeks:true,noDrag:true});};function crpCalendarFilterInit(){datePickerController.createDatePicker({formElements:{"start_datefield":"y","start_datefield-dd":"d","start_datefield-mm":"m"},highlightDays:[0,0,0,0,0,1,1],noFadeEffect:true,finalOpacity:100,showWeeks:true,noDrag:true});};function hideDateFilter(_1,_2){if($(_1).checked==true){$(_2).addClassName("z-hide");}else{$(_2).removeClassName("z-hide");}};function crpCalendarAdminViewInit(){var _3=$$("span.crp-status-real");_3.each(function(_4){_4.addClassName("z-hide");});var _5=$$("span.crp-status-fake");_5.each(function(_6){_6.removeClassName("z-hide");});};function togglestatus(_7,_8){var _9="module=crpCalendar&func=toggleStatus&eventid="+_7+"&status="+_8;var _a=new Ajax.Request("ajax.php",{method:"get",parameters:_9,onComplete:togglestatus_response});};function togglestatus_response(_b){if(_b.status!=200){pnshowajaxerror(_b.responseText);return;}var _c=pndejsonize(_b.responseText);$("eventstatus_fake_A_"+_c.eventid).toggle();$("eventstatus_fake_P_"+_c.eventid).toggle();};function crpCalendarConfigInit(_d,_e,_f){if(_d<2){$("crpcalendar_use_gd").parentNode.remove();$("crpcalendar_use_browser").removeClassName("z-hide");}if(!_e){$("crpcalendar_enable_locations").checked=false;$("crpcalendar_enable_locations").disabled=true;}if(!_f){$("crpcalendar_enable_formicula").checked=false;$("crpcalendar_enable_formicula").disabled=true;}};function crpCalendarContentLoad(){Event.observe("eventid_category","change",function(){category_event();},false);};function category_event(){var _10="module=crpCalendar&func=getCategorizedEvent&"+"&category="+$F("eventid_category");var _11=new Ajax.Request("ajax.php",{method:"get",parameters:_10,onComplete:category_event_response});};function category_event_response(req){if(req.status!=200){pnshowajaxerror(req.responseText);showinfo();return;}var _12=$("contentEvent");var i;for(i=_12.length-1;i>=0;i--){_12.remove(i);}var _13=pndejsonize(req.responseText);for(i in _13){if(isNumeric(i)){var _14=document.createElement("option");_14.text=_13[i].start_date+" - "+_13[i].name;_14.value=_13[i].id;try{_12.add(_14,null);}catch(ex){_12.add(_14);}}}};function isNumeric(_15){var _16="0123456789.-";var _17;var _18=true;if(_15.length==0){return false;}for(k=0;k<_15.length&&_18==true;k++){_17=_15.charAt(k);if(_16.indexOf(_17)==-1){_18=false;}}return _18;};function addDynamicTextRow(_19){var _1a=$(_19).immediateDescendants().size();if($(_19).hasClassName("disabledfield")){$(_19).removeClassName("disabledfield");$("dynamic_datefield-dd").disabled=false;$("dynamic_datefield-mm").disabled=false;$("dynamic_datefield").disabled=false;$("dynamic_timefield-hh").disabled=false;$("dynamic_timefield-mm").disabled=false;$("dynamic_datefield-dd").name="serial[startDay][]";$("dynamic_datefield-mm").name="serial[startMonth][]";$("dynamic_datefield").name="serial[startYear][]";$("dynamic_timefield-hh").name="serial[startHour][]";$("dynamic_timefield-mm").name="serial[startMinute][]";}else{var _1b=$("slot_"+_19).cloneNode(true);$(_19).appendChild(_1b);}};function removeDynamicTextRow(_1c){var _1d=$(_1c).immediateDescendants().size();if(_1d>1){$(_1c).removeChild($(_1c).lastChild);}else{$("dynamic_datefield-dd").disabled=true;$("dynamic_datefield-mm").disabled=true;$("dynamic_datefield").disabled=true;$("dynamic_timefield-hh").disabled=true;$("dynamic_timefield-mm").disabled=true;$(_1c).addClassName("disabledfield");}};